<div class="container">

<div class="spinner-container" *ngIf="spinner">
    <mat-spinner class="spinner-color"></mat-spinner>
</div>
	
	<h1 class="market-header">Account ({{ mainData?.account_name }})</h1>

	<div class="block-info">

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Privileged:</strong>
				</div>
				<div class="col-sm-9">
					<small>{{ mainData?.privileged }}</small>
				</div>
			</div>
			
			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Total Balance:</strong>
				</div>
				<div class="col-sm-9">
					<strong>{{ balance }} EOS</strong>
				</div>
			</div>
			
			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Unstaked:</strong>
				</div>
				<div class="col-sm-9">
					<small><strong>{{ unstaked }} </strong></small>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Staked:</strong>
				</div>
				<div class="col-sm-9">
					<small><strong>{{ mainData?.voter_info?.staked / 10000 }} EOS</strong></small>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Key:</strong>
				</div>
				<div class="col-sm-9">
					<small class="color-grey">{{ mainData?.permissions[0]?.required_auth?.keys[0]?.key  }}</small>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">CPU:</strong>
				</div>
				<div class="col-sm-9">
					<div class="col-md-4 no-padding">
						<mat-progress-bar mode="determinate" value="{{mainData?.cpu_limit?.used / mainData?.cpu_limit?.max * 100}}" class="progress-bar-usage account-cpu"></mat-progress-bar>
					</div>
					<div class="col-md-8">
						<small>{{ (mainData?.cpu_limit?.used / 1024).toFixed(2) }} kb</small> / <small>{{ (mainData?.cpu_limit?.max / 1024).toFixed(2) }} kb</small>
					</div>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">NET:</strong>
				</div>
				<div class="col-sm-9">
					<div class="col-md-4 no-padding">
						<mat-progress-bar mode="determinate" value="{{mainData?.net_limit?.used / mainData?.net_limit?.max * 100}}" class="progress-bar-usage account-net"></mat-progress-bar>
					</div>
					<div class="col-md-8">
						<small>{{ (mainData?.net_limit?.used / 1024).toFixed(2) }} kb</small> / <small>{{ (mainData?.net_limit?.max / 1024).toFixed(2) }} kb</small>
					</div>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">RAM:</strong>
				</div>
				<div class="col-sm-9">
					<div class="col-md-4 no-padding">
						<mat-progress-bar mode="determinate" value="{{mainData?.ram_usage / mainData?.ram_quota * 100}}" class="progress-bar-usage account-ram"></mat-progress-bar>
					</div>
					<div class="col-md-8">
						<small>{{ (mainData?.ram_usage / 1024).toFixed(2) }} kb</small> / <small>{{ (mainData?.ram_quota / 1024).toFixed(2) }} kb</small>
					</div>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Total Resources:</strong>
				</div>
				<div class="col-sm-9">
					<span class="account-info"> CPU weight: <small>{{ mainData?.total_resources?.cpu_weight }}</small></span>
					<span class="account-info"> NET weight: <small>{{ mainData?.total_resources?.net_weight }}</small></span>
					<span class="account-info"> Owner: <small>{{ mainData?.total_resources?.owner }}</small></span>
				</div>
			</div>	

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Delegated Bandwidth:</strong>
				</div>
				<div class="col-sm-9">
					<span class="account-info"> CPU weight: <small>{{ mainData?.delegated_bandwidth?.cpu_weight }}</small></span>
					<span class="account-info"> from: <small>{{ mainData?.delegated_bandwidth?.from }}</small></span>
					<span class="account-info"> NET weight: <small>{{ mainData?.delegated_bandwidth?.net_weight }}</small></span>
					<span class="account-info"> to: <small>{{ mainData?.delegated_bandwidth?.to }}</small></span>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Voter Info:</strong>
				</div>
				<div class="col-sm-9">
					<span class="account-info"> Last vote weight: <small>{{ mainData?.voter_info?.last_vote_weight }}</small></span>
					<span class="account-info"> Owner: <small>{{ mainData?.voter_info?.owner }}</small></span>
					<span class="account-info"> Staked: <small>{{ mainData?.voter_info?.staked }}</small></span>
					<span class="account-info"> Unstaking: <small>{{ mainData?.voter_info?.unstaking }}</small></span>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<div class="col-sm-3">
					<strong class="block-info-header">Created:</strong>
				</div>
				<div class="col-sm-9">
					<small class="color-grey">{{ time }}</small>
				</div>
			</div>

			<div class="col-sm-12 block-info-line">
				<mat-accordion>
				  <mat-expansion-panel>
				    <mat-expansion-panel-header>
				      <mat-panel-title>
				        Code Raw Data:
				      </mat-panel-title>
				    </mat-expansion-panel-header>
				    <ngx-json-viewer [json]="code"></ngx-json-viewer>
				  </mat-expansion-panel>
				</mat-accordion>
			</div>

			<div class="col-sm-12 block-info-line" *ngIf="tables.length">
				<mat-accordion>
				  <mat-expansion-panel *ngFor="let elem of tables">
				    <mat-expansion-panel-header>
				      <mat-panel-title>
				        Table - {{elem.name}}
				      </mat-panel-title>
				    </mat-expansion-panel-header>
				    <ngx-json-viewer [json]="elem.data"></ngx-json-viewer>
				  </mat-expansion-panel>
				</mat-accordion>
			</div>

			<div class="col-sm-12 block-info-line">
				<mat-accordion>
				  <mat-expansion-panel>
				    <mat-expansion-panel-header>
				      <mat-panel-title>
				        Blockchain Raw Data:
				      </mat-panel-title>
				    </mat-expansion-panel-header>
				    <ngx-json-viewer [json]="mainData"></ngx-json-viewer>
				  </mat-expansion-panel>
				</mat-accordion>
			</div>
	</div>
</div>